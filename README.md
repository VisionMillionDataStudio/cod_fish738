# é³•é±¼æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunmasj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://kdocs.cn/l/cszuIiCKVNis)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€å…¨çƒæ¸”ä¸šèµ„æºçš„æ—¥ç›Šæ¯ç«­ï¼Œç§‘å­¦åˆç†çš„æ¸”ä¸šç®¡ç†å’Œå¯æŒç»­æ•ææˆä¸ºäºŸå¾…è§£å†³çš„é‡è¦è¯¾é¢˜ã€‚é³•é±¼ä½œä¸ºä¸€ç§ç»æµä»·å€¼è¾ƒé«˜çš„æµ·æ´‹é±¼ç±»ï¼Œå…¶æ•æå’Œå…»æ®–çš„ç®¡ç†å°¤ä¸ºé‡è¦ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„é³•é±¼æ£€æµ‹æ–¹æ³•å¾€å¾€ä¾èµ–äºäººå·¥è§‚å¯Ÿå’Œç»éªŒåˆ¤æ–­ï¼Œæ•ˆç‡ä½ä¸‹ä¸”å®¹æ˜“å—åˆ°ä¸»è§‚å› ç´ çš„å½±å“ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ£€æµ‹æŠ€æœ¯é€æ¸è¢«å¼•å…¥åˆ°é³•é±¼æ£€æµ‹é¢†åŸŸï¼Œå±•ç°å‡ºè‰¯å¥½çš„åº”ç”¨å‰æ™¯ã€‚

YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹å› å…¶å¿«é€Ÿå’Œé«˜æ•ˆçš„ç›®æ ‡æ£€æµ‹èƒ½åŠ›ï¼Œå·²æˆä¸ºè®¡ç®—æœºè§†è§‰é¢†åŸŸçš„é‡è¦å·¥å…·ã€‚ç‰¹åˆ«æ˜¯YOLOv8ï¼Œä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç»“åˆäº†æ›´ä¸ºå…ˆè¿›çš„ç½‘ç»œç»“æ„å’Œç®—æ³•ä¼˜åŒ–ï¼Œèƒ½å¤Ÿåœ¨ä¿è¯æ£€æµ‹ç²¾åº¦çš„åŒæ—¶å¤§å¹…æå‡å¤„ç†é€Ÿåº¦ã€‚é’ˆå¯¹é³•é±¼è¿™ä¸€ç‰¹å®šç›®æ ‡ï¼Œæ”¹è¿›YOLOv8æ¨¡å‹çš„åº”ç”¨ï¼Œå°†ä¸ºå®ç°é«˜æ•ˆã€å‡†ç¡®çš„é³•é±¼æ£€æµ‹æä¾›æŠ€æœ¯æ”¯æŒã€‚

æœ¬ç ”ç©¶çš„æ ¸å¿ƒåœ¨äºæ„å»ºä¸€ä¸ªåŸºäºæ”¹è¿›YOLOv8çš„é³•é±¼æ£€æµ‹ç³»ç»Ÿã€‚æˆ‘ä»¬å°†åˆ©ç”¨ä¸€ä¸ªåŒ…å«1700å¼ é³•é±¼å›¾åƒçš„æ•°æ®é›†è¿›è¡Œæ¨¡å‹è®­ç»ƒå’Œæµ‹è¯•ã€‚è¯¥æ•°æ®é›†ä¸“æ³¨äºé³•é±¼è¿™ä¸€å•ä¸€ç±»åˆ«ï¼Œèƒ½å¤Ÿä¸ºæ¨¡å‹æä¾›æ¸…æ™°çš„ç›®æ ‡ç‰¹å¾ï¼Œç¡®ä¿æ£€æµ‹çš„å‡†ç¡®æ€§å’Œå¯é æ€§ã€‚é€šè¿‡å¯¹æ•°æ®é›†çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬å°†æ¢ç´¢é³•é±¼åœ¨ä¸åŒç¯å¢ƒã€ä¸åŒå§¿æ€ä¸‹çš„ç‰¹å¾è¡¨ç°ï¼Œè¿›è€Œä¼˜åŒ–æ¨¡å‹çš„å‚æ•°è®¾ç½®å’Œè®­ç»ƒç­–ç•¥ã€‚

æœ¬ç ”ç©¶çš„æ„ä¹‰ä¸ä»…åœ¨äºæå‡é³•é±¼æ£€æµ‹çš„æŠ€æœ¯æ°´å¹³ï¼Œæ›´åœ¨äºæ¨åŠ¨æ™ºèƒ½åŒ–æ¸”ä¸šç®¡ç†çš„å‘å±•ã€‚é€šè¿‡å®ç°è‡ªåŠ¨åŒ–çš„é³•é±¼æ£€æµ‹ï¼Œæ¸”ä¸šç®¡ç†è€…èƒ½å¤Ÿå®æ—¶ç›‘æ§é³•é±¼çš„æ•ææƒ…å†µï¼Œç§‘å­¦è¯„ä¼°é³•é±¼èµ„æºçš„å˜åŒ–è¶‹åŠ¿ï¼Œä»è€Œåˆ¶å®šæ›´ä¸ºåˆç†çš„æ•ææ”¿ç­–ã€‚æ­¤å¤–ï¼Œæ”¹è¿›YOLOv8æ¨¡å‹çš„æˆåŠŸåº”ç”¨ä¹Ÿä¸ºå…¶ä»–æµ·æ´‹ç”Ÿç‰©çš„æ£€æµ‹æä¾›äº†å€Ÿé‰´ï¼Œå…·æœ‰å¹¿æ³›çš„æ¨å¹¿ä»·å€¼ã€‚

åœ¨å…¨çƒæ¸”ä¸šèµ„æºä¿æŠ¤å’Œå¯æŒç»­å‘å±•çš„å¤§èƒŒæ™¯ä¸‹ï¼Œæœ¬ç ”ç©¶å°†ä¸ºé³•é±¼çš„ç§‘å­¦ç®¡ç†æä¾›æ–°çš„æ€è·¯å’Œæ–¹æ³•ã€‚é€šè¿‡æŠ€æœ¯åˆ›æ–°ä¸å®è·µåº”ç”¨çš„ç»“åˆï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿä¸ºæ¸”ä¸šçš„å¯æŒç»­å‘å±•è´¡çŒ®ä¸€ä»½åŠ›é‡ã€‚åŒæ—¶ï¼Œç ”ç©¶æˆæœä¹Ÿå°†ä¸ºç›¸å…³é¢†åŸŸçš„å­¦æœ¯ç ”ç©¶æä¾›æ–°çš„æ•°æ®æ”¯æŒå’Œç†è®ºåŸºç¡€ï¼Œæ¨åŠ¨è®¡ç®—æœºè§†è§‰æŠ€æœ¯åœ¨ç”Ÿæ€ä¿æŠ¤å’Œèµ„æºç®¡ç†ä¸­çš„åº”ç”¨ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„é³•é±¼æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ä¸ä»…å…·æœ‰é‡è¦çš„å­¦æœ¯ä»·å€¼ï¼Œä¹Ÿå…·å¤‡æ˜¾è‘—çš„ç¤¾ä¼šæ„ä¹‰ã€‚é€šè¿‡æå‡é³•é±¼æ£€æµ‹çš„æ•ˆç‡å’Œå‡†ç¡®æ€§ï¼Œæˆ‘ä»¬å°†ä¸ºæ¸”ä¸šçš„å¯æŒç»­å‘å±•æä¾›åˆ‡å®å¯è¡Œçš„è§£å†³æ–¹æ¡ˆï¼Œæ¨åŠ¨æ™ºèƒ½æ¸”ä¸šçš„å®ç°ï¼ŒåŠ©åŠ›ç”Ÿæ€ç¯å¢ƒçš„ä¿æŠ¤ä¸æ¢å¤ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1BYsfeQERA/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 1
names: ['codfish']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åä¸ºâ€œcod_fishâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¯æŒå¯¹YOLOv8æ¨¡å‹çš„æ”¹è¿›ï¼Œä¸“æ³¨äºé³•é±¼çš„æ£€æµ‹ç³»ç»Ÿã€‚è¯¥æ•°æ®é›†ä¸“é—¨é’ˆå¯¹é³•é±¼è¿™ä¸€ç‰¹å®šç±»åˆ«è¿›è¡Œæ„å»ºï¼Œå…·æœ‰é«˜åº¦çš„é’ˆå¯¹æ€§å’Œä¸“ä¸šæ€§ã€‚æ•°æ®é›†çš„ç±»åˆ«æ•°é‡ä¸º1ï¼Œç±»åˆ«åˆ—è¡¨ä¸­ä»…åŒ…å«â€œcodfishâ€è¿™ä¸€é¡¹ã€‚è¿™ç§ç®€åŒ–çš„ç±»åˆ«è®¾ç½®ä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿé›†ä¸­ç²¾åŠ›äºé³•é±¼çš„ç‰¹å¾æå–ä¸è¯†åˆ«ï¼Œé¿å…äº†å¤šç±»åˆ«å¹²æ‰°æ‰€å¸¦æ¥çš„å¤æ‚æ€§ã€‚

â€œcod_fishâ€æ•°æ®é›†çš„æ„å»ºè¿‡ç¨‹ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œæ—¨åœ¨ç¡®ä¿æ•°æ®çš„å¤šæ ·æ€§å’Œä»£è¡¨æ€§ã€‚æ•°æ®é›†ä¸­åŒ…å«äº†å¤šç§ä¸åŒç¯å¢ƒä¸‹çš„é³•é±¼å›¾åƒï¼Œè¿™äº›å›¾åƒæ¥æºäºä¸åŒçš„æ•æåœºæ™¯å’Œæ°´åŸŸæ¡ä»¶ï¼Œæ¶µç›–äº†é³•é±¼åœ¨è‡ªç„¶æ –æ¯åœ°ä¸­çš„å¤šç§å§¿æ€å’ŒçŠ¶æ€ã€‚è¿™ç§å¤šæ ·æ€§ä¸ä»…æœ‰åŠ©äºæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œè¿˜èƒ½å¢å¼ºå…¶åœ¨å®é™…åº”ç”¨ä¸­çš„é€‚åº”æ€§ã€‚æ•°æ®é›†ä¸­é³•é±¼çš„å›¾åƒç»è¿‡ç²¾ç»†æ ‡æ³¨ï¼Œç¡®ä¿æ¯ä¸€å¼ å›¾åƒä¸­çš„é³•é±¼éƒ½è¢«å‡†ç¡®æ¡†å®šï¼Œæä¾›äº†æ¸…æ™°çš„è¾¹ç•Œæ¡†ä¿¡æ¯ã€‚è¿™å¯¹äºè®­ç»ƒYOLOv8æ¨¡å‹è‡³å…³é‡è¦ï¼Œå› ä¸ºç²¾ç¡®çš„æ ‡æ³¨èƒ½å¤Ÿæ˜¾è‘—æé«˜æ¨¡å‹çš„æ£€æµ‹ç²¾åº¦ã€‚

åœ¨æ•°æ®é¢„å¤„ç†é˜¶æ®µï¼Œæˆ‘ä»¬å¯¹å›¾åƒè¿›è¡Œäº†å¤šç§å¢å¼ºå¤„ç†ï¼ŒåŒ…æ‹¬æ—‹è½¬ã€ç¼©æ”¾ã€ç¿»è½¬ç­‰æ“ä½œï¼Œä»¥å¢åŠ æ•°æ®é›†çš„æœ‰æ•ˆæ ·æœ¬æ•°é‡ã€‚è¿™ç§æ•°æ®å¢å¼ºç­–ç•¥èƒ½å¤Ÿå¸®åŠ©æ¨¡å‹æ›´å¥½åœ°å­¦ä¹ é³•é±¼çš„ä¸åŒç‰¹å¾ï¼Œæå‡å…¶åœ¨ä¸åŒæƒ…å†µä¸‹çš„æ£€æµ‹èƒ½åŠ›ã€‚æ­¤å¤–ï¼Œæ•°æ®é›†ä¸­è¿˜åŒ…å«äº†ä¸åŒå…‰ç…§æ¡ä»¶å’Œæ°´è´¨çŠ¶æ€ä¸‹çš„é³•é±¼å›¾åƒï¼Œè¿›ä¸€æ­¥ä¸°å¯Œäº†æ¨¡å‹çš„è®­ç»ƒæ•°æ®ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨å¤šå˜çš„ç¯å¢ƒä¸­ä¿æŒé«˜æ•ˆçš„æ£€æµ‹æ€§èƒ½ã€‚

åœ¨æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†â€œcod_fishâ€æ•°æ®é›†ä¸YOLOv8çš„å…ˆè¿›ç‰¹æ€§ç›¸ç»“åˆï¼Œåˆ©ç”¨å…¶å¼ºå¤§çš„ç‰¹å¾æå–èƒ½åŠ›å’Œå®æ—¶æ£€æµ‹èƒ½åŠ›ï¼Œæ—¨åœ¨å®ç°é«˜æ•ˆã€å‡†ç¡®çš„é³•é±¼æ£€æµ‹ã€‚YOLOv8çš„æ¶æ„å…è®¸æˆ‘ä»¬åœ¨ä¿æŒé«˜æ£€æµ‹é€Ÿåº¦çš„åŒæ—¶ï¼Œæå‡æ£€æµ‹ç²¾åº¦ï¼Œè¿™å¯¹äºå®é™…åº”ç”¨ä¸­çš„å®æ—¶ç›‘æ§å’Œæ•æç®¡ç†å…·æœ‰é‡è¦æ„ä¹‰ã€‚é€šè¿‡å¯¹â€œcod_fishâ€æ•°æ®é›†çš„æ·±å…¥åˆ†æå’Œåº”ç”¨ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿæ˜¾è‘—æ”¹å–„ç°æœ‰çš„é³•é±¼æ£€æµ‹ç³»ç»Ÿï¼Œä¸ºæ¸”ä¸šç®¡ç†å’Œç”Ÿæ€ä¿æŠ¤æä¾›æœ‰åŠ›çš„æŠ€æœ¯æ”¯æŒã€‚

æ€»ä¹‹ï¼Œâ€œcod_fishâ€æ•°æ®é›†ä¸ºæœ¬ç ”ç©¶æä¾›äº†åšå®çš„åŸºç¡€ï¼Œå…¶ä¸“æ³¨äºé³•é±¼è¿™ä¸€å•ä¸€ç±»åˆ«çš„è®¾è®¡ï¼Œä½¿å¾—æ¨¡å‹è®­ç»ƒæ›´åŠ é«˜æ•ˆã€‚é€šè¿‡å¯¹æ•°æ®é›†çš„åˆç†åˆ©ç”¨ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ¨åŠ¨YOLOv8åœ¨é³•é±¼æ£€æµ‹é¢†åŸŸçš„åº”ç”¨ï¼Œæå‡å…¶åœ¨å®é™…åœºæ™¯ä¸­çš„è¡¨ç°ã€‚æœªæ¥ï¼Œæˆ‘ä»¬è¿˜è®¡åˆ’å¯¹æ•°æ®é›†è¿›è¡Œæ‰©å±•ï¼Œå¢åŠ æ›´å¤šçš„é³•é±¼å›¾åƒï¼Œä»¥è¿›ä¸€æ­¥æå‡æ¨¡å‹çš„æ€§èƒ½å’Œé€‚åº”æ€§ï¼Œä¸ºæ¸”ä¸šå¯æŒç»­å‘å±•è´¡çŒ®åŠ›é‡ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ç®—æ³•æ˜¯ç”±Ultralyticså…¬å¸äº2023å¹´1æœˆ10æ—¥å‘å¸ƒçš„ä¸€ä¸ªé‡è¦ç‰ˆæœ¬ï¼Œå®ƒåœ¨YOLOv7çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ˜¾è‘—çš„ä¼˜åŒ–å’Œæ”¹è¿›ã€‚ä½œä¸ºä¸€ç§åŸºäºå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰çš„ç›®æ ‡æ£€æµ‹ç®—æ³•ï¼ŒYOLOv8çš„è®¾è®¡ç†å¿µæ˜¯å°†æ•´ä¸ªå›¾åƒä½œä¸ºè¾“å…¥ï¼Œç›´æ¥åœ¨å›¾åƒä¸Šè¿›è¡Œç›®æ ‡æ£€æµ‹å’Œå®šä½ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ä¼ ç»Ÿçš„æ»‘åŠ¨çª—å£æˆ–åŒºåŸŸæè®®æ–¹æ³•ã€‚è¿™ç§è®¾è®¡ä½¿å¾—YOLOv8åœ¨æ£€æµ‹ç²¾åº¦å’Œé€Ÿåº¦ä¸Šéƒ½å¾—åˆ°äº†æ˜¾è‘—æå‡ï¼Œæˆä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘ã€‚

YOLOv8é‡‡ç”¨äº†æ›´æ·±çš„å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ï¼Œè¿™ä¸€æ”¹è¿›ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿæå–æ›´ä¸°å¯Œçš„ç‰¹å¾ä¿¡æ¯ã€‚å…·ä½“è€Œè¨€ï¼ŒYOLOv8çš„ç½‘ç»œç»“æ„ç”±è¾“å…¥ç«¯ã€ä¸»å¹²ç½‘ç»œã€Neckç«¯å’Œè¾“å‡ºç«¯å››ä¸ªä¸»è¦æ¨¡å—ç»„æˆã€‚è¾“å…¥ç«¯è´Ÿè´£å¯¹è¾“å…¥å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬Mosaicæ•°æ®å¢å¼ºã€è‡ªé€‚åº”å›¾ç‰‡ç¼©æ”¾å’Œç°åº¦å¡«å……ç­‰æŠ€æœ¯ï¼Œè¿™äº›æŠ€æœ¯æ—¨åœ¨æé«˜æ¨¡å‹çš„é²æ£’æ€§å’Œé€‚åº”æ€§ã€‚ä¸»å¹²ç½‘ç»œåˆ™é€šè¿‡ä¸€ç³»åˆ—å·ç§¯ã€æ± åŒ–å’Œç‰¹å¾æå–æ“ä½œï¼Œæå–å‡ºå›¾åƒä¸­çš„é‡è¦ç‰¹å¾ã€‚ç‰¹åˆ«æ˜¯ï¼ŒYOLOv8å¼•å…¥äº†C2fï¼ˆC2fæ¨¡å—ï¼‰å’ŒSPPFï¼ˆSpatial Pyramid Pooling Fastï¼‰ç»“æ„ï¼Œè¿™äº›ç»“æ„èƒ½å¤Ÿæœ‰æ•ˆåœ°æ•æ‰å›¾åƒä¸­çš„å¤šå°ºåº¦ç‰¹å¾ï¼Œä»è€Œæé«˜æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚

åœ¨Neckç«¯ï¼ŒYOLOv8é‡‡ç”¨äº†åŸºäºè·¯å¾„èšåˆç½‘ç»œï¼ˆPANï¼‰çš„è®¾è®¡ï¼Œé€šè¿‡ä¸Šé‡‡æ ·å’Œä¸‹é‡‡æ ·æ“ä½œï¼Œå¯¹ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾è¿›è¡Œèåˆã€‚è¿™ä¸€è¿‡ç¨‹ä¸ä»…å¢å¼ºäº†æ¨¡å‹å¯¹ä¸åŒå¤§å°ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ï¼Œè¿˜æé«˜äº†ç‰¹å¾ä¿¡æ¯çš„ä¼ é€’æ•ˆç‡ã€‚Neckç«¯çš„è®¾è®¡ç†å¿µæ˜¯ç¡®ä¿ä¸åŒå±‚æ¬¡çš„ç‰¹å¾èƒ½å¤Ÿæœ‰æ•ˆç»“åˆï¼Œä»è€Œåœ¨ç›®æ ‡æ£€æµ‹æ—¶è·å¾—æ›´å…¨é¢çš„ä¿¡æ¯ã€‚æœ€åï¼Œåœ¨è¾“å‡ºç«¯ï¼ŒYOLOv8é‡‡ç”¨äº†è§£è€¦å¤´ï¼ˆDecoupled Headï¼‰ç»“æ„ï¼Œå®ç°äº†åˆ†ç±»å’Œå›å½’è¿‡ç¨‹çš„è§£è€¦ã€‚è¿™ä¸€è®¾è®¡ä½¿å¾—æ¨¡å‹åœ¨å¤„ç†æ­£è´Ÿæ ·æœ¬åŒ¹é…å’ŒæŸå¤±è®¡ç®—æ—¶æ›´åŠ é«˜æ•ˆï¼Œè¿›ä¸€æ­¥æå‡äº†æ£€æµ‹æ€§èƒ½ã€‚

YOLOv8çš„è®­ç»ƒè¿‡ç¨‹åŒæ ·ç»è¿‡äº†ç²¾å¿ƒè®¾è®¡ã€‚æ¨¡å‹é‡‡ç”¨äº†Task-Aligned Assigneræ–¹æ³•ï¼Œå¯¹åˆ†ç±»åˆ†æ•°å’Œå›å½’åˆ†æ•°è¿›è¡ŒåŠ æƒï¼Œä»¥å®ç°æ›´ä¸ºç²¾ç¡®çš„æ­£æ ·æœ¬åŒ¹é…ã€‚åœ¨æŸå¤±è®¡ç®—æ–¹é¢ï¼ŒYOLOv8ä½¿ç”¨äº†äºŒå…ƒäº¤å‰ç†µï¼ˆBCEï¼‰è®¡ç®—åˆ†ç±»æŸå¤±ï¼Œå¹¶ç»“åˆåˆ†å¸ƒç„¦ç‚¹æŸå¤±ï¼ˆDFLï¼‰å’Œå®Œå…¨äº¤å¹¶æ¯”ï¼ˆCIoUï¼‰æŸå¤±å‡½æ•°æ¥è®¡ç®—å›å½’æŸå¤±ã€‚è¿™ç§æŸå¤±å‡½æ•°çš„é€‰æ‹©ä¸ä»…æé«˜äº†æ¨¡å‹çš„è®­ç»ƒæ•ˆç‡ï¼Œè¿˜å¢å¼ºäº†å…¶åœ¨å¤æ‚åœºæ™¯ä¸‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

ä¸ä¹‹å‰çš„YOLOç‰ˆæœ¬ç›¸æ¯”ï¼ŒYOLOv8åœ¨ç²¾åº¦å’Œé€Ÿåº¦ä¸Šå‡æœ‰æ˜¾è‘—æå‡ã€‚é€šè¿‡ä¸SSDç­‰ä¼ ç»Ÿç›®æ ‡æ£€æµ‹ç®—æ³•çš„æ¯”è¾ƒï¼ŒYOLOv8çš„ç²¾åº¦æé«˜äº†43.23%ï¼Œå¸§ç‡åˆ™æå‡äº†10.28å€ã€‚è¿™ä¸€ç³»åˆ—çš„æ”¹è¿›ä½¿å¾—YOLOv8åœ¨å„ç§åº”ç”¨åœºæ™¯ä¸­è¡¨ç°å‡ºè‰²ï¼ŒåŒ…æ‹¬æ™ºèƒ½ç›‘æ§ã€è‡ªåŠ¨é©¾é©¶å’Œäººè„¸è¯†åˆ«ç­‰é¢†åŸŸã€‚

ç„¶è€Œï¼Œå°½ç®¡YOLOv8åœ¨ç›®æ ‡æ£€æµ‹ä¸­å±•ç°äº†å¼ºå¤§çš„èƒ½åŠ›ï¼Œä½†åœ¨æŸäº›å¤æ‚ç¯å¢ƒä¸‹ä»ç„¶å­˜åœ¨ä¸€äº›æŒ‘æˆ˜ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤æ‚æ°´é¢ç¯å¢ƒä¸­ï¼Œç”±äºå°ç›®æ ‡æ¼‚æµ®ç‰©çš„ç‰¹å¾å¤æ‚ã€èƒŒæ™¯å¤šæ ·ï¼ŒYOLOv8å¯èƒ½ä¼šé¢ä¸´å®šä½è¯¯å·®å’Œå¯¹ç›®æ ‡æ„ŸçŸ¥èƒ½åŠ›ä¸è¶³çš„é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œç ”ç©¶è€…ä»¬æå‡ºäº†YOLOv8-WSSODç®—æ³•çš„æ”¹è¿›æ–¹æ¡ˆï¼Œæ—¨åœ¨æå‡YOLOv8åœ¨ç‰¹å®šåœºæ™¯ä¸‹çš„æ£€æµ‹æ€§èƒ½ã€‚

æ€»ä½“è€Œè¨€ï¼ŒYOLOv8ç®—æ³•é€šè¿‡æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ã€å¤šå°ºåº¦ç‰¹å¾èåˆã€è§£è€¦å¤´è®¾è®¡ç­‰ä¸€ç³»åˆ—åˆ›æ–°æŠ€æœ¯ï¼Œæå¤§åœ°æ¨åŠ¨äº†ç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„å‘å±•ã€‚å…¶é«˜ç²¾åº¦å’Œå¿«é€Ÿå“åº”çš„ç‰¹æ€§ï¼Œä½¿å¾—YOLOv8åœ¨å®é™…åº”ç”¨ä¸­å±•ç°å‡ºå¹¿æ³›çš„é€‚ç”¨æ€§å’Œæ½œåŠ›ï¼Œæˆä¸ºå½“å‰ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„é‡è¦å·¥å…·ã€‚éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼ŒYOLOv8æ— ç–‘å°†åœ¨æœªæ¥çš„ç ”ç©¶å’Œåº”ç”¨ä¸­ç»§ç»­å‘æŒ¥é‡è¦ä½œç”¨ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 code\ultralytics\models\yolo\detect\predict.py

ä»¥ä¸‹æ˜¯å¯¹ç»™å®šä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†è¿›è¡Œæç‚¼å’Œè¯¦ç»†æ³¨é‡Šçš„ç»“æœï¼š

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license

from ultralytics.engine.predictor import BasePredictor
from ultralytics.engine.results import Results
from ultralytics.utils import ops

class DetectionPredictor(BasePredictor):
    """
    DetectionPredictorç±»ï¼Œç»§æ‰¿è‡ªBasePredictorç±»ï¼Œç”¨äºåŸºäºæ£€æµ‹æ¨¡å‹è¿›è¡Œé¢„æµ‹ã€‚
    è¯¥ç±»å®ç°äº†åå¤„ç†é¢„æµ‹ç»“æœçš„åŠŸèƒ½ã€‚
    """

    def postprocess(self, preds, img, orig_imgs):
        """
        å¯¹é¢„æµ‹ç»“æœè¿›è¡Œåå¤„ç†ï¼Œå¹¶è¿”å›Resultså¯¹è±¡çš„åˆ—è¡¨ã€‚

        å‚æ•°:
        preds: æ¨¡å‹çš„åŸå§‹é¢„æµ‹ç»“æœ
        img: è¾“å…¥å›¾åƒï¼Œé€šå¸¸æ˜¯ç»è¿‡é¢„å¤„ç†çš„å›¾åƒ
        orig_imgs: åŸå§‹è¾“å…¥å›¾åƒï¼Œå¯ä»¥æ˜¯torch.Tensoræˆ–numpyæ•°ç»„

        è¿”å›:
        results: åŒ…å«æ¯ä¸ªé¢„æµ‹ç»“æœçš„Resultså¯¹è±¡åˆ—è¡¨
        """
        # åº”ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰æ¥è¿‡æ»¤é‡å çš„æ£€æµ‹æ¡†
        preds = ops.non_max_suppression(
            preds,
            self.args.conf,  # ç½®ä¿¡åº¦é˜ˆå€¼
            self.args.iou,   # IOUé˜ˆå€¼
            agnostic=self.args.agnostic_nms,  # æ˜¯å¦è¿›è¡Œç±»åˆ«æ— å…³çš„NMS
            max_det=self.args.max_det,  # æœ€å¤§æ£€æµ‹æ¡†æ•°é‡
            classes=self.args.classes,  # è¿‡æ»¤çš„ç±»åˆ«
        )

        # å¦‚æœè¾“å…¥çš„åŸå§‹å›¾åƒä¸æ˜¯åˆ—è¡¨ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºnumpyæ•°ç»„
        if not isinstance(orig_imgs, list):  # è¾“å…¥å›¾åƒæ˜¯torch.Tensorè€Œä¸æ˜¯åˆ—è¡¨
            orig_imgs = ops.convert_torch2numpy_batch(orig_imgs)

        results = []  # å­˜å‚¨å¤„ç†åçš„ç»“æœ
        for i, pred in enumerate(preds):  # éå†æ¯ä¸ªé¢„æµ‹ç»“æœ
            orig_img = orig_imgs[i]  # è·å–å¯¹åº”çš„åŸå§‹å›¾åƒ
            # å°†é¢„æµ‹æ¡†çš„åæ ‡ä»ç¼©æ”¾åçš„å›¾åƒå°ºå¯¸è½¬æ¢ä¸ºåŸå§‹å›¾åƒå°ºå¯¸
            pred[:, :4] = ops.scale_boxes(img.shape[2:], pred[:, :4], orig_img.shape)
            img_path = self.batch[0][i]  # è·å–å›¾åƒè·¯å¾„
            # åˆ›å»ºResultså¯¹è±¡å¹¶æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­
            results.append(Results(orig_img, path=img_path, names=self.model.names, boxes=pred))
        return results  # è¿”å›æ‰€æœ‰å¤„ç†åçš„ç»“æœ
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†åˆ†æï¼š
1. **ç±»å®šä¹‰**ï¼š`DetectionPredictor` ç»§æ‰¿è‡ª `BasePredictor`ï¼Œç”¨äºå¤„ç†æ£€æµ‹æ¨¡å‹çš„é¢„æµ‹ã€‚
2. **åå¤„ç†æ–¹æ³•**ï¼š`postprocess` æ–¹æ³•è´Ÿè´£å¯¹æ¨¡å‹çš„é¢„æµ‹ç»“æœè¿›è¡Œåå¤„ç†ï¼ŒåŒ…æ‹¬åº”ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰å’Œè°ƒæ•´é¢„æµ‹æ¡†çš„åæ ‡ã€‚
3. **NMS**ï¼šé€šè¿‡ `ops.non_max_suppression` å‡½æ•°è¿‡æ»¤æ‰é‡å çš„æ£€æµ‹æ¡†ï¼Œç¡®ä¿æ¯ä¸ªç›®æ ‡åªä¿ç•™ä¸€ä¸ªæœ€ä½³æ£€æµ‹æ¡†ã€‚
4. **å›¾åƒè½¬æ¢**ï¼šå°†è¾“å…¥çš„åŸå§‹å›¾åƒä» PyTorch å¼ é‡è½¬æ¢ä¸º NumPy æ•°ç»„ï¼Œä»¥ä¾¿åç»­å¤„ç†ã€‚
5. **ç»“æœæ„å»º**ï¼šä¸ºæ¯ä¸ªé¢„æµ‹ç»“æœåˆ›å»º `Results` å¯¹è±¡ï¼ŒåŒ…å«åŸå§‹å›¾åƒã€å›¾åƒè·¯å¾„ã€ç±»åˆ«åç§°å’Œæ£€æµ‹æ¡†ä¿¡æ¯ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­ã€‚

ä»¥ä¸Šæ˜¯å¯¹ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†åŠå…¶åŠŸèƒ½çš„è¯¦ç»†ä¸­æ–‡æ³¨é‡Šã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLOï¼ˆYou Only Look Onceï¼‰æ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºç›®æ ‡æ£€æµ‹çš„é¢„æµ‹åŠŸèƒ½ã€‚æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º`DetectionPredictor`çš„ç±»ï¼Œå®ƒç»§æ‰¿è‡ª`BasePredictor`ç±»ï¼Œä¸“é—¨ç”¨äºåŸºäºæ£€æµ‹æ¨¡å‹è¿›è¡Œé¢„æµ‹ã€‚

åœ¨è¿™ä¸ªç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªç®€å•çš„ä½¿ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•åˆ›å»ºä¸€ä¸ª`DetectionPredictor`å®ä¾‹å¹¶è°ƒç”¨å…¶`predict_cli`æ–¹æ³•è¿›è¡Œé¢„æµ‹ã€‚ç¤ºä¾‹ä¸­ä½¿ç”¨äº†ä¸€ä¸ªåä¸º`yolov8n.pt`çš„æ¨¡å‹å’Œä¸€ä¸ªæºæ•°æ®é›†`ASSETS`ã€‚

`DetectionPredictor`ç±»ä¸­åŒ…å«ä¸€ä¸ªé‡è¦çš„æ–¹æ³•`postprocess`ï¼Œè¯¥æ–¹æ³•è´Ÿè´£å¯¹æ¨¡å‹çš„é¢„æµ‹ç»“æœè¿›è¡Œåå¤„ç†ã€‚å…·ä½“æ¥è¯´ï¼Œ`postprocess`æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š`preds`ï¼ˆæ¨¡å‹çš„é¢„æµ‹ç»“æœï¼‰ã€`img`ï¼ˆè¾“å…¥å›¾åƒï¼‰å’Œ`orig_imgs`ï¼ˆåŸå§‹å›¾åƒï¼‰ã€‚åœ¨æ–¹æ³•å†…éƒ¨ï¼Œé¦–å…ˆè°ƒç”¨`ops.non_max_suppression`å‡½æ•°å¯¹é¢„æµ‹ç»“æœè¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶ï¼Œä»¥è¿‡æ»¤æ‰é‡å çš„æ¡†ï¼Œä¿ç•™ç½®ä¿¡åº¦é«˜çš„æ£€æµ‹ç»“æœã€‚è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°å¤šä¸ªå‚æ•°ï¼Œä¾‹å¦‚ç½®ä¿¡åº¦é˜ˆå€¼ã€IOUé˜ˆå€¼ã€æ˜¯å¦ä½¿ç”¨ç±»åˆ«æ— å…³çš„NMSç­‰ã€‚

æ¥ä¸‹æ¥ï¼Œæ–¹æ³•æ£€æŸ¥`orig_imgs`æ˜¯å¦ä¸ºåˆ—è¡¨ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºNumPyæ•°ç»„ï¼Œä»¥ä¾¿åç»­å¤„ç†ã€‚ç„¶åï¼Œæ–¹æ³•éå†æ¯ä¸ªé¢„æµ‹ç»“æœï¼Œå¹¶æ ¹æ®åŸå§‹å›¾åƒçš„å°ºå¯¸è°ƒæ•´é¢„æµ‹æ¡†çš„ä½ç½®ã€‚æœ€åï¼Œå°†æ¯ä¸ªåŸå§‹å›¾åƒã€å›¾åƒè·¯å¾„ä»¥åŠå¤„ç†åçš„é¢„æµ‹æ¡†å°è£…æˆ`Results`å¯¹è±¡ï¼Œå¹¶å°†è¿™äº›å¯¹è±¡å­˜å‚¨åœ¨ç»“æœåˆ—è¡¨ä¸­ã€‚

æœ€ç»ˆï¼Œ`postprocess`æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»“æœçš„åˆ—è¡¨ï¼Œä¾›åç»­ä½¿ç”¨ã€‚è¿™æ®µä»£ç çš„è®¾è®¡ä½“ç°äº†ç›®æ ‡æ£€æµ‹æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­çš„é‡è¦æ­¥éª¤ï¼Œå³å¯¹æ¨¡å‹è¾“å‡ºè¿›è¡Œæœ‰æ•ˆçš„åå¤„ç†ï¼Œä»¥ä¾¿äºåç»­çš„ç»“æœåˆ†æå’Œå¯è§†åŒ–ã€‚

#### 11.2 ui.py

ä»¥ä¸‹æ˜¯ä¿ç•™çš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨ streamlit è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œçš„è¿”å›ç ï¼Œå¦‚æœä¸ä¸º0åˆ™è¡¨ç¤ºå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")

# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # å‡è®¾è„šæœ¬åœ¨å½“å‰ç›®å½•ä¸‹

    # è°ƒç”¨å‡½æ•°è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`ï¼šç”¨äºè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - `subprocess`ï¼šç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

2. **`run_script` å‡½æ•°**ï¼š
   - è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä»¥ç¡®ä¿è„šæœ¬åœ¨å½“å‰ç¯å¢ƒä¸­è¿è¡Œã€‚
   - æ„å»ºå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œæ„å»ºçš„å‘½ä»¤ï¼Œå¹¶é€šè¿‡ `shell=True` å…è®¸åœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ã€‚
   - æ£€æŸ¥å‘½ä»¤çš„è¿”å›ç ï¼Œå¦‚æœè¿”å›ç ä¸ä¸º0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ã€‚

3. **ä¸»ç¨‹åºéƒ¨åˆ†**ï¼š
   - é€šè¿‡ `if __name__ == "__main__":` ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼ˆè¿™é‡Œå‡è®¾è„šæœ¬åä¸º `web.py`ï¼‰ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°ï¼Œä¼ å…¥è„šæœ¬è·¯å¾„ä»¥è¿è¡Œè¯¥è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ¥è¯´æ˜¯ä¸€ä¸ªåä¸º `web.py` çš„è„šæœ¬ã€‚é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œè¿™äº›æ¨¡å—æä¾›äº†ä¸ç³»ç»Ÿäº¤äº’çš„åŠŸèƒ½ã€‚

åœ¨ç¨‹åºä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º `run_script` çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚å‡½æ•°å†…éƒ¨é¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œè¿™é€šè¿‡ `sys.executable` å®ç°ã€‚æ¥ç€ï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚`streamlit` æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºæ•°æ®åº”ç”¨çš„æ¡†æ¶ï¼Œå‘½ä»¤çš„æ ¼å¼æ˜¯ `python -m streamlit run script_path`ã€‚

éšåï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ¥æ‰§è¡Œæ„å»ºå¥½çš„å‘½ä»¤ã€‚è¯¥æ–¹æ³•ä¼šåœ¨ä¸€ä¸ªæ–°çš„ shell ä¸­è¿è¡Œå‘½ä»¤ï¼Œå¹¶ç­‰å¾…å…¶å®Œæˆã€‚å¦‚æœå‘½ä»¤æ‰§è¡Œçš„è¿”å›ç ä¸ä¸º 0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œç¨‹åºä¼šæ‰“å°å‡ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿å½“è¯¥æ–‡ä»¶ä½œä¸ºä¸»ç¨‹åºè¿è¡Œæ—¶æ‰ä¼šæ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚è¿™é‡ŒæŒ‡å®šäº†è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ `web.py`ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„ç›®çš„æ˜¯æ–¹ä¾¿ç”¨æˆ·é€šè¿‡å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªç‰¹å®šçš„ Streamlit è„šæœ¬ï¼Œå¹¶åœ¨è¿è¡Œå‡ºé”™æ—¶æä¾›åé¦ˆã€‚

#### 11.3 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\solutions\ai_gym.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import cv2
from ultralytics.utils.plotting import Annotator

class AIGym:
    """ç®¡ç†å®æ—¶è§†é¢‘æµä¸­äººä»¬çš„å¥èº«åŠ¨ä½œè®¡æ•°çš„ç±»ã€‚"""

    def __init__(self):
        """åˆå§‹åŒ–AIGymï¼Œè®¾ç½®é»˜è®¤çš„è§†è§‰å’Œå›¾åƒå‚æ•°ã€‚"""
        self.im0 = None  # å½“å‰å¸§å›¾åƒ
        self.tf = None   # çº¿æ¡åšåº¦
        self.keypoints = None  # å…³é”®ç‚¹æ•°æ®
        self.poseup_angle = None  # ä¸Šå‡å§¿åŠ¿è§’åº¦
        self.posedown_angle = None  # ä¸‹é™å§¿åŠ¿è§’åº¦
        self.angle = None  # è§’åº¦ä¿¡æ¯
        self.count = None  # åŠ¨ä½œè®¡æ•°
        self.stage = None  # å½“å‰é˜¶æ®µ
        self.pose_type = 'pushup'  # åŠ¨ä½œç±»å‹ï¼ˆå¦‚ä¿¯å§æ’‘ï¼‰
        self.kpts_to_check = None  # éœ€è¦æ£€æŸ¥çš„å…³é”®ç‚¹
        self.view_img = False  # æ˜¯å¦æ˜¾ç¤ºå›¾åƒ
        self.annotator = None  # æ³¨é‡Šå™¨å¯¹è±¡

    def set_args(self, kpts_to_check, line_thickness=2, view_img=False, pose_up_angle=145.0, pose_down_angle=90.0, pose_type='pullup'):
        """
        é…ç½®AIGymçš„å‚æ•°ã€‚
        Args:
            kpts_to_check (list): ç”¨äºè®¡æ•°çš„3ä¸ªå…³é”®ç‚¹
            line_thickness (int): è¾¹ç•Œæ¡†çš„çº¿æ¡åšåº¦
            view_img (bool): æ˜¯å¦æ˜¾ç¤ºå›¾åƒ
            pose_up_angle (float): ä¸Šå‡å§¿åŠ¿çš„è§’åº¦
            pose_down_angle (float): ä¸‹é™å§¿åŠ¿çš„è§’åº¦
            pose_type: åŠ¨ä½œç±»å‹ï¼ˆå¦‚ä¿¯å§æ’‘ã€å¼•ä½“å‘ä¸Šæˆ–è…¹éƒ¨é”»ç‚¼ï¼‰
        """
        self.kpts_to_check = kpts_to_check
        self.tf = line_thickness
        self.view_img = view_img
        self.poseup_angle = pose_up_angle
        self.posedown_angle = pose_down_angle
        self.pose_type = pose_type

    def start_counting(self, im0, results, frame_count):
        """
        è®¡æ•°å¥èº«åŠ¨ä½œçš„å‡½æ•°ã€‚
        Args:
            im0 (ndarray): å½“å‰è§†é¢‘å¸§
            results: å§¿æ€ä¼°è®¡æ•°æ®
            frame_count: å½“å‰å¸§è®¡æ•°
        """
        self.im0 = im0  # ä¿å­˜å½“å‰å¸§
        if frame_count == 1:
            # åˆå§‹åŒ–è®¡æ•°å’Œè§’åº¦ä¿¡æ¯
            self.count = [0] * len(results[0])
            self.angle = [0] * len(results[0])
            self.stage = ['-' for _ in results[0]]
        
        self.keypoints = results[0].keypoints.data  # è·å–å…³é”®ç‚¹æ•°æ®
        self.annotator = Annotator(im0, line_width=2)  # åˆ›å»ºæ³¨é‡Šå™¨

        # éå†æ¯ä¸ªå…³é”®ç‚¹
        for ind, k in enumerate(reversed(self.keypoints)):
            # è®¡ç®—å§¿åŠ¿è§’åº¦
            self.angle[ind] = self.annotator.estimate_pose_angle(
                k[int(self.kpts_to_check[0])].cpu(),
                k[int(self.kpts_to_check[1])].cpu(),
                k[int(self.kpts_to_check[2])].cpu()
            )
            self.im0 = self.annotator.draw_specific_points(k, self.kpts_to_check, shape=(640, 640), radius=10)

            # æ ¹æ®ä¸åŒçš„åŠ¨ä½œç±»å‹æ›´æ–°é˜¶æ®µå’Œè®¡æ•°
            if self.pose_type == 'pushup':
                if self.angle[ind] > self.poseup_angle:
                    self.stage[ind] = 'up'
                if self.angle[ind] < self.posedown_angle and self.stage[ind] == 'up':
                    self.stage[ind] = 'down'
                    self.count[ind] += 1

            elif self.pose_type == 'pullup':
                if self.angle[ind] > self.poseup_angle:
                    self.stage[ind] = 'down'
                if self.angle[ind] < self.posedown_angle and self.stage[ind] == 'down':
                    self.stage[ind] = 'up'
                    self.count[ind] += 1

            # ç»˜åˆ¶è§’åº¦ã€è®¡æ•°å’Œé˜¶æ®µä¿¡æ¯
            self.annotator.plot_angle_and_count_and_stage(
                angle_text=self.angle[ind],
                count_text=self.count[ind],
                stage_text=self.stage[ind],
                center_kpt=k[int(self.kpts_to_check[1])],
                line_thickness=self.tf
            )

            # ç»˜åˆ¶å…³é”®ç‚¹
            self.annotator.kpts(k, shape=(640, 640), radius=1, kpt_line=True)

        # å¦‚æœéœ€è¦æ˜¾ç¤ºå›¾åƒï¼Œåˆ™å±•ç¤ºå½“å‰å¸§
        if self.view_img:
            cv2.imshow('Ultralytics YOLOv8 AI GYM', self.im0)
            if cv2.waitKey(1) & 0xFF == ord('q'):
                return

if __name__ == '__main__':
    AIGym()  # åˆ›å»ºAIGymå®ä¾‹
```

### ä»£ç è¯´æ˜ï¼š
1. **ç±»å®šä¹‰**ï¼š`AIGym`ç±»ç”¨äºç®¡ç†å¥èº«åŠ¨ä½œçš„è®¡æ•°å’ŒçŠ¶æ€ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼š`__init__`æ–¹æ³•åˆå§‹åŒ–äº†ä¸€äº›å‚æ•°ï¼ŒåŒ…æ‹¬å›¾åƒã€å…³é”®ç‚¹ã€è§’åº¦ã€è®¡æ•°å’Œé˜¶æ®µç­‰ã€‚
3. **è®¾ç½®å‚æ•°**ï¼š`set_args`æ–¹æ³•ç”¨äºé…ç½®éœ€è¦çš„å‚æ•°ï¼Œå¦‚å…³é”®ç‚¹ã€çº¿æ¡åšåº¦ã€æ˜¯å¦æ˜¾ç¤ºå›¾åƒç­‰ã€‚
4. **è®¡æ•°æ–¹æ³•**ï¼š`start_counting`æ–¹æ³•ç”¨äºå¤„ç†æ¯ä¸€å¸§å›¾åƒï¼Œè®¡ç®—å§¿åŠ¿è§’åº¦ï¼Œæ›´æ–°åŠ¨ä½œè®¡æ•°å’Œé˜¶æ®µï¼Œå¹¶ç»˜åˆ¶ç›¸å…³ä¿¡æ¯ã€‚
5. **æ˜¾ç¤ºå›¾åƒ**ï¼šå¦‚æœè®¾ç½®äº†æ˜¾ç¤ºå›¾åƒï¼Œåˆ™ä½¿ç”¨OpenCVå±•ç¤ºå½“å‰å¸§ï¼Œå¹¶åœ¨æŒ‰ä¸‹'q'é”®æ—¶é€€å‡ºã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `AIGym` çš„ç±»ï¼Œä¸»è¦ç”¨äºåœ¨å®æ—¶è§†é¢‘æµä¸­åŸºäºäººä½“å§¿æ€ç®¡ç†å¥èº«åŠ¨ä½œçš„è®¡æ•°ã€‚ç¨‹åºé¦–å…ˆå¯¼å…¥äº† OpenCV åº“å’Œ `Annotator` ç±»ï¼Œè¿™ä¸ªç±»ç”¨äºåœ¨å›¾åƒä¸Šç»˜åˆ¶æ ‡æ³¨ã€‚

åœ¨ `AIGym` ç±»çš„æ„é€ å‡½æ•° `__init__` ä¸­ï¼Œåˆå§‹åŒ–äº†ä¸€äº›ç”¨äºå›¾åƒå¤„ç†å’Œå§¿æ€ä¼°è®¡çš„é»˜è®¤å‚æ•°ï¼ŒåŒ…æ‹¬å›¾åƒã€çº¿æ¡åšåº¦ã€å…³é”®ç‚¹ã€è§’åº¦ã€è®¡æ•°ã€é˜¶æ®µå’Œå§¿æ€ç±»å‹ç­‰ã€‚`pose_type` å±æ€§ç”¨äºæŒ‡å®šå½“å‰çš„å¥èº«åŠ¨ä½œç±»å‹ï¼Œå¯ä»¥æ˜¯ä¿¯å§æ’‘ï¼ˆpushupï¼‰ã€å¼•ä½“å‘ä¸Šï¼ˆpullupï¼‰æˆ–è…¹éƒ¨é”»ç‚¼ï¼ˆabworkoutï¼‰ã€‚

`set_args` æ–¹æ³•ç”¨äºé…ç½®ä¸€äº›å‚æ•°ï¼ŒåŒ…æ‹¬éœ€è¦æ£€æŸ¥çš„å…³é”®ç‚¹ã€çº¿æ¡åšåº¦ã€æ˜¯å¦æ˜¾ç¤ºå›¾åƒã€ä¸Šå‡å’Œä¸‹é™å§¿åŠ¿çš„è§’åº¦é˜ˆå€¼ä»¥åŠå§¿æ€ç±»å‹ã€‚è¯¥æ–¹æ³•æ¥å—å¤šä¸ªå‚æ•°å¹¶å°†å…¶å­˜å‚¨åœ¨ç±»çš„å±æ€§ä¸­ã€‚

`start_counting` æ–¹æ³•æ˜¯ä¸»è¦çš„è®¡æ•°é€»è¾‘ï¼Œæ¥å—å½“å‰å¸§å›¾åƒã€å§¿æ€ä¼°è®¡ç»“æœå’Œå¸§è®¡æ•°ä½œä¸ºè¾“å…¥ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œé¦–å…ˆå°†å½“å‰å¸§å›¾åƒèµ‹å€¼ç»™ `im0`ï¼Œå¹¶åœ¨ç¬¬ä¸€å¸§æ—¶åˆå§‹åŒ–è®¡æ•°ã€è§’åº¦å’Œé˜¶æ®µçš„åˆ—è¡¨ã€‚æ¥ç€ï¼Œæå–å…³é”®ç‚¹æ•°æ®å¹¶åˆ›å»ºä¸€ä¸ª `Annotator` å®ä¾‹ã€‚

æ¥ä¸‹æ¥ï¼Œç¨‹åºéå†æ¯ä¸ªå…³é”®ç‚¹ï¼Œæ ¹æ®ä¸åŒçš„å§¿æ€ç±»å‹è®¡ç®—è§’åº¦å¹¶åˆ¤æ–­å½“å‰çš„é˜¶æ®µï¼ˆä¸Šå‡æˆ–ä¸‹é™ï¼‰ã€‚å¯¹äºæ¯ç§å§¿æ€ç±»å‹ï¼Œç¨‹åºä¼šæ ¹æ®è®¾å®šçš„è§’åº¦é˜ˆå€¼æ›´æ–°é˜¶æ®µå’Œè®¡æ•°ï¼Œå¹¶ä½¿ç”¨ `Annotator` ç±»çš„æ–¹æ³•åœ¨å›¾åƒä¸Šç»˜åˆ¶è§’åº¦ã€è®¡æ•°å’Œé˜¶æ®µä¿¡æ¯ã€‚

æœ€åï¼Œå¦‚æœè®¾ç½®äº† `view_img` ä¸º `True`ï¼Œç¨‹åºä¼šä½¿ç”¨ OpenCV æ˜¾ç¤ºå¤„ç†åçš„å›¾åƒï¼Œå¹¶åœ¨æŒ‰ä¸‹ 'q' é”®æ—¶é€€å‡ºæ˜¾ç¤ºã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == '__main__':` æ¥å®ä¾‹åŒ– `AIGym` ç±»ï¼Œè¡¨æ˜è¿™ä¸ªæ–‡ä»¶å¯ä»¥ä½œä¸ºè„šæœ¬ç›´æ¥è¿è¡Œã€‚æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªç¨‹åºå®ç°äº†ä¸€ä¸ªåŸºäºå§¿æ€ä¼°è®¡çš„å¥èº«åŠ¨ä½œè®¡æ•°ç³»ç»Ÿï¼Œèƒ½å¤Ÿå®æ—¶åˆ†æè§†é¢‘æµä¸­çš„å¥èº«åŠ¨ä½œå¹¶è¿›è¡Œè®¡æ•°ã€‚

#### 11.4 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\callbacks\clearml.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å¹¶æ·»åŠ è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
# å¯¼å…¥å¿…è¦çš„åº“
from ultralytics.utils import LOGGER, SETTINGS, TESTS_RUNNING

# å°è¯•å¯¼å…¥ ClearML åº“å¹¶è¿›è¡Œä¸€äº›åŸºæœ¬çš„éªŒè¯
try:
    assert not TESTS_RUNNING  # ç¡®ä¿ä¸åœ¨æµ‹è¯•æ¨¡å¼ä¸‹
    assert SETTINGS['clearml'] is True  # ç¡®ä¿ ClearML é›†æˆå·²å¯ç”¨
    import clearml
    from clearml import Task
    from clearml.binding.frameworks.pytorch_bind import PatchPyTorchModelIO
    from clearml.binding.matplotlib_bind import PatchedMatplotlib

    assert hasattr(clearml, '__version__')  # ç¡®ä¿ ClearML åŒ…å·²æ­£ç¡®å®‰è£…

except (ImportError, AssertionError):
    clearml = None  # å¦‚æœå¯¼å…¥å¤±è´¥ï¼Œè®¾ç½® clearml ä¸º None


def _log_debug_samples(files, title='Debug Samples') -> None:
    """
    å°†æ–‡ä»¶ï¼ˆå›¾åƒï¼‰ä½œä¸ºè°ƒè¯•æ ·æœ¬è®°å½•åˆ° ClearML ä»»åŠ¡ä¸­ã€‚

    å‚æ•°:
        files (list): æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼Œä½¿ç”¨ PosixPath æ ¼å¼ã€‚
        title (str): å°†å…·æœ‰ç›¸åŒå€¼çš„å›¾åƒåˆ†ç»„çš„æ ‡é¢˜ã€‚
    """
    import re

    task = Task.current_task()  # è·å–å½“å‰ä»»åŠ¡
    if task:
        for f in files:
            if f.exists():  # æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
                it = re.search(r'_batch(\d+)', f.name)  # ä»æ–‡ä»¶åä¸­æå–æ‰¹æ¬¡å·
                iteration = int(it.groups()[0]) if it else 0  # è·å–è¿­ä»£æ¬¡æ•°
                task.get_logger().report_image(title=title,
                                               series=f.name.replace(it.group(), ''),
                                               local_path=str(f),
                                               iteration=iteration)  # è®°å½•å›¾åƒ


def on_pretrain_routine_start(trainer):
    """åœ¨é¢„è®­ç»ƒä¾‹ç¨‹å¼€å§‹æ—¶è¿è¡Œï¼›åˆå§‹åŒ–å¹¶è¿æ¥/è®°å½•ä»»åŠ¡åˆ° ClearMLã€‚"""
    try:
        task = Task.current_task()  # è·å–å½“å‰ä»»åŠ¡
        if task:
            # ç¡®ä¿è‡ªåŠ¨çš„ PyTorch å’Œ Matplotlib ç»‘å®šè¢«ç¦ç”¨
            PatchPyTorchModelIO.update_current_task(None)
            PatchedMatplotlib.update_current_task(None)
        else:
            # åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ ClearML ä»»åŠ¡
            task = Task.init(project_name=trainer.args.project or 'YOLOv8',
                             task_name=trainer.args.name,
                             tags=['YOLOv8'],
                             output_uri=True,
                             reuse_last_task_id=False,
                             auto_connect_frameworks={
                                 'pytorch': False,
                                 'matplotlib': False})
            LOGGER.warning('ClearML åˆå§‹åŒ–äº†ä¸€ä¸ªæ–°ä»»åŠ¡ã€‚å¦‚æœæ‚¨æƒ³è¿œç¨‹è¿è¡Œï¼Œè¯·åœ¨åˆå§‹åŒ– YOLO ä¹‹å‰æ·»åŠ  clearml-init å¹¶è¿æ¥æ‚¨çš„å‚æ•°ã€‚')
        task.connect(vars(trainer.args), name='General')  # è¿æ¥è®­ç»ƒå‚æ•°
    except Exception as e:
        LOGGER.warning(f'è­¦å‘Š âš ï¸ ClearML å·²å®‰è£…ä½†æœªæ­£ç¡®åˆå§‹åŒ–ï¼Œæœªè®°å½•æ­¤è¿è¡Œã€‚{e}')


def on_train_epoch_end(trainer):
    """åœ¨ YOLO è®­ç»ƒçš„æ¯ä¸ª epoch ç»“æŸæ—¶è®°å½•è°ƒè¯•æ ·æœ¬å¹¶æŠ¥å‘Šå½“å‰è®­ç»ƒè¿›åº¦ã€‚"""
    task = Task.current_task()  # è·å–å½“å‰ä»»åŠ¡
    if task:
        # è®°å½•è°ƒè¯•æ ·æœ¬
        if trainer.epoch == 1:
            _log_debug_samples(sorted(trainer.save_dir.glob('train_batch*.jpg')), 'Mosaic')  # è®°å½•ç¬¬ä¸€è½®çš„æ ·æœ¬
        # æŠ¥å‘Šå½“å‰è®­ç»ƒè¿›åº¦
        for k, v in trainer.validator.metrics.results_dict.items():
            task.get_logger().report_scalar('train', k, v, iteration=trainer.epoch)  # è®°å½•æŒ‡æ ‡


callbacks = {
    'on_pretrain_routine_start': on_pretrain_routine_start,
    'on_train_epoch_end': on_train_epoch_end
} if clearml else {}  # å¦‚æœ ClearML å¯ç”¨ï¼Œåˆ™æ³¨å†Œå›è°ƒå‡½æ•°
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **ClearML å¯¼å…¥å’ŒéªŒè¯**ï¼šå°è¯•å¯¼å…¥ ClearML ç›¸å…³æ¨¡å—ï¼Œå¹¶è¿›è¡Œä¸€äº›åŸºæœ¬çš„éªŒè¯ï¼Œç¡®ä¿åº“çš„å¯ç”¨æ€§ã€‚
2. **æ—¥å¿—è®°å½•å‡½æ•°**ï¼š`_log_debug_samples` å‡½æ•°ç”¨äºå°†å›¾åƒæ–‡ä»¶è®°å½•åˆ° ClearML ä»»åŠ¡ä¸­ï¼Œæ–¹ä¾¿åç»­è°ƒè¯•å’Œåˆ†æã€‚
3. **é¢„è®­ç»ƒå¼€å§‹å›è°ƒ**ï¼š`on_pretrain_routine_start` å‡½æ•°åœ¨é¢„è®­ç»ƒå¼€å§‹æ—¶åˆå§‹åŒ– ClearML ä»»åŠ¡ï¼Œå¹¶è¿æ¥è®­ç»ƒå‚æ•°ã€‚
4. **è®­ç»ƒç»“æŸå›è°ƒ**ï¼š`on_train_epoch_end` å‡½æ•°åœ¨æ¯ä¸ªè®­ç»ƒ epoch ç»“æŸæ—¶è®°å½•è°ƒè¯•æ ·æœ¬å’Œè®­ç»ƒè¿›åº¦ã€‚ 

è¿™äº›éƒ¨åˆ†æ˜¯ä»£ç çš„æ ¸å¿ƒï¼Œè´Ÿè´£ä¸ ClearML çš„é›†æˆå’Œæ—¥å¿—è®°å½•åŠŸèƒ½ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨äºé›†æˆClearMLçš„YOLOv8è®­ç»ƒå›è°ƒå‡½æ•°çš„å®ç°ã€‚ClearMLæ˜¯ä¸€ä¸ªç”¨äºæœºå™¨å­¦ä¹ å®éªŒç®¡ç†å’Œå¯è§†åŒ–çš„å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·è·Ÿè¸ªå®éªŒè¿‡ç¨‹ã€è®°å½•æ—¥å¿—å’Œå¯è§†åŒ–ç»“æœã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€äº›å¿…è¦çš„æ¨¡å—å’Œåº“ï¼ŒåŒ…æ‹¬Ultralyticsçš„æ—¥å¿—è®°å½•å™¨ã€è®¾ç½®å’Œæµ‹è¯•çŠ¶æ€ã€‚æ¥ç€ï¼Œå®ƒå°è¯•å¯¼å…¥ClearMLåº“åŠå…¶ç›¸å…³ç»„ä»¶ï¼Œå¹¶è¿›è¡Œäº†ä¸€äº›åŸºæœ¬çš„æ£€æŸ¥ï¼Œæ¯”å¦‚ç¡®ä¿æ²¡æœ‰åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿è¡Œï¼Œå¹¶ä¸”ClearMLé›†æˆæ˜¯å¯ç”¨çš„ã€‚å¦‚æœå¯¼å…¥å¤±è´¥ï¼Œ`clearml`å˜é‡å°†è¢«è®¾ç½®ä¸º`None`ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€äº›å‡½æ•°ç”¨äºè®°å½•è°ƒè¯•æ ·æœ¬å’Œç»˜å›¾ç»“æœã€‚`_log_debug_samples`å‡½æ•°æ¥æ”¶æ–‡ä»¶è·¯å¾„åˆ—è¡¨å’Œæ ‡é¢˜ï¼Œå°†è¿™äº›æ–‡ä»¶ä½œä¸ºè°ƒè¯•æ ·æœ¬è®°å½•åˆ°å½“å‰çš„ClearMLä»»åŠ¡ä¸­ã€‚å®ƒä¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¹¶æå–æ–‡ä»¶åä¸­çš„æ‰¹æ¬¡ä¿¡æ¯ã€‚`_log_plot`å‡½æ•°åˆ™ç”¨äºå°†å›¾åƒä½œä¸ºç»˜å›¾è®°å½•åˆ°ClearMLä¸­ï¼Œä½¿ç”¨Matplotlibè¯»å–å’Œå±•ç¤ºå›¾åƒã€‚

æ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†ä¸€äº›å›è°ƒå‡½æ•°ï¼Œè¿™äº›å‡½æ•°åœ¨è®­ç»ƒçš„ä¸åŒé˜¶æ®µè¢«è°ƒç”¨ã€‚`on_pretrain_routine_start`å‡½æ•°åœ¨é¢„è®­ç»ƒä¾‹ç¨‹å¼€å§‹æ—¶è¿è¡Œï¼Œåˆå§‹åŒ–å¹¶è¿æ¥å½“å‰ä»»åŠ¡åˆ°ClearMLã€‚å¦‚æœæ²¡æœ‰å½“å‰ä»»åŠ¡ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä»»åŠ¡å¹¶è¿æ¥ç›¸å…³å‚æ•°ã€‚`on_train_epoch_end`å‡½æ•°åœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è¢«è°ƒç”¨ï¼Œè®°å½•è°ƒè¯•æ ·æœ¬å¹¶æŠ¥å‘Šå½“å‰çš„è®­ç»ƒè¿›åº¦ã€‚`on_fit_epoch_end`å‡½æ•°åœ¨æ¯ä¸ªå‘¨æœŸç»“æŸæ—¶æŠ¥å‘Šæ¨¡å‹ä¿¡æ¯ã€‚`on_val_end`å‡½æ•°åœ¨éªŒè¯ç»“æŸæ—¶è®°å½•éªŒè¯ç»“æœï¼ŒåŒ…æ‹¬æ ‡ç­¾å’Œé¢„æµ‹ã€‚æœ€åï¼Œ`on_train_end`å‡½æ•°åœ¨è®­ç»ƒå®Œæˆæ—¶è®°å½•æœ€ç»ˆæ¨¡å‹åŠå…¶åç§°ï¼Œå¹¶æŠ¥å‘Šæœ€ç»ˆçš„è¯„ä¼°æŒ‡æ ‡ã€‚

æœ€åï¼Œæ–‡ä»¶åˆ›å»ºäº†ä¸€ä¸ªå­—å…¸`callbacks`ï¼Œå°†å„ä¸ªå›è°ƒå‡½æ•°ä¸ç›¸åº”çš„äº‹ä»¶å…³è”èµ·æ¥ï¼Œå¦‚æœClearMLå¯ç”¨çš„è¯ï¼Œè¿™äº›å›è°ƒå‡½æ•°å°†è¢«æ³¨å†Œï¼Œä»¥ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¢«è°ƒç”¨ã€‚æ•´ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸ºYOLOv8æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹æä¾›äº†ä¸€ä¸ªç³»ç»ŸåŒ–çš„æ—¥å¿—è®°å½•å’Œå¯è§†åŒ–æœºåˆ¶ï¼Œä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿæ›´å¥½åœ°è·Ÿè¸ªå’Œåˆ†ææ¨¡å‹çš„è®­ç»ƒæ•ˆæœã€‚

#### 11.5 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\extra_modules\ops_dcnv3\functions\dcnv3_func.py

ä»¥ä¸‹æ˜¯æå–å‡ºçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import torch
import torch.nn.functional as F
from torch.autograd import Function
from torch.cuda.amp import custom_bwd, custom_fwd

class DCNv3Function(Function):
    @staticmethod
    @custom_fwd
    def forward(ctx, input, offset, mask, kernel_h, kernel_w, stride_h, stride_w, pad_h, pad_w, dilation_h, dilation_w, group, group_channels, offset_scale, im2col_step, remove_center):
        # ä¿å­˜å·ç§¯å‚æ•°åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼Œä»¥ä¾¿åœ¨åå‘ä¼ æ’­æ—¶ä½¿ç”¨
        ctx.kernel_h = kernel_h
        ctx.kernel_w = kernel_w
        ctx.stride_h = stride_h
        ctx.stride_w = stride_w
        ctx.pad_h = pad_h
        ctx.pad_w = pad_w
        ctx.dilation_h = dilation_h
        ctx.dilation_w = dilation_w
        ctx.group = group
        ctx.group_channels = group_channels
        ctx.offset_scale = offset_scale
        ctx.im2col_step = im2col_step
        ctx.remove_center = remove_center

        # å‡†å¤‡è¾“å…¥å‚æ•°
        args = [input, offset, mask, kernel_h, kernel_w, stride_h, stride_w, pad_h, pad_w, dilation_h, dilation_w, group, group_channels, offset_scale, ctx.im2col_step]
        if remove_center:
            args.append(remove_center)

        # è°ƒç”¨DCNv3çš„å‰å‘è®¡ç®—å‡½æ•°
        output = DCNv3.dcnv3_forward(*args)
        ctx.save_for_backward(input, offset, mask)  # ä¿å­˜è¾“å…¥ä»¥ä¾¿åå‘ä¼ æ’­ä½¿ç”¨

        return output

    @staticmethod
    @custom_bwd
    def backward(ctx, grad_output):
        # ä»ä¸Šä¸‹æ–‡ä¸­è·å–ä¿å­˜çš„è¾“å…¥
        input, offset, mask = ctx.saved_tensors

        # å‡†å¤‡åå‘ä¼ æ’­çš„å‚æ•°
        args = [input, offset, mask, ctx.kernel_h, ctx.kernel_w, ctx.stride_h, ctx.stride_w, ctx.pad_h, ctx.pad_w, ctx.dilation_h, ctx.dilation_w, ctx.group, ctx.group_channels, ctx.offset_scale, grad_output.contiguous(), ctx.im2col_step]
        if ctx.remove_center:
            args.append(ctx.remove_center)

        # è°ƒç”¨DCNv3çš„åå‘è®¡ç®—å‡½æ•°
        grad_input, grad_offset, grad_mask = DCNv3.dcnv3_backward(*args)

        return grad_input, grad_offset, grad_mask, None, None, None, None, None, None, None, None, None, None, None, None, None

def dcnv3_core_pytorch(input, offset, mask, kernel_h, kernel_w, stride_h, stride_w, pad_h, pad_w, dilation_h, dilation_w, group, group_channels, offset_scale, remove_center):
    # å¯¹è¾“å…¥è¿›è¡Œå¡«å……
    input = F.pad(input, [0, 0, pad_h, pad_h, pad_w, pad_w])
    N_, H_in, W_in, _ = input.shape
    _, H_out, W_out, _ = offset.shape

    # è·å–å‚è€ƒç‚¹
    ref = _get_reference_points(input.shape, input.device, kernel_h, kernel_w, dilation_h, dilation_w, pad_h, pad_w, stride_h, stride_w)
    # ç”Ÿæˆè†¨èƒ€ç½‘æ ¼
    grid = _generate_dilation_grids(input.shape, kernel_h, kernel_w, dilation_h, dilation_w, group, input.device)

    # è®¡ç®—é‡‡æ ·ä½ç½®
    sampling_locations = (ref + grid * offset_scale).repeat(N_, 1, 1, 1, 1)
    if remove_center:
        sampling_locations = remove_center_sampling_locations(sampling_locations, kernel_w=kernel_w, kernel_h=kernel_h)
    sampling_locations = sampling_locations.flatten(3, 4) + offset * offset_scale

    # ä½¿ç”¨grid_sampleè¿›è¡Œé‡‡æ ·
    sampling_input_ = F.grid_sample(input.view(N_, H_in * W_in, group * group_channels).transpose(1, 2).reshape(N_ * group, group_channels, H_in, W_in), sampling_locations, mode='bilinear', padding_mode='zeros', align_corners=False)

    # è®¡ç®—è¾“å‡º
    output = (sampling_input_ * mask.view(N_, H_out * W_out, group, -1).transpose(1, 2).reshape(N_ * group, 1, H_out * W_out, -1)).sum(-1).view(N_, group * group_channels, H_out * W_out)

    return output.transpose(1, 2).reshape(N_, H_out, W_out, -1).contiguous()
```

### ä»£ç è¯´æ˜ï¼š
1. **DCNv3Functionç±»**ï¼šå®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„PyTorchå‡½æ•°ï¼ŒåŒ…å«å‰å‘å’Œåå‘ä¼ æ’­çš„å®ç°ã€‚
   - `forward`æ–¹æ³•ï¼šæ¥æ”¶è¾“å…¥ã€åç§»é‡ã€æ©ç ç­‰å‚æ•°ï¼Œè°ƒç”¨DCNv3çš„å‰å‘è®¡ç®—å‡½æ•°ï¼Œå¹¶ä¿å­˜è¾“å…¥ä»¥ä¾¿åç»­åå‘ä¼ æ’­ä½¿ç”¨ã€‚
   - `backward`æ–¹æ³•ï¼šä½¿ç”¨ä¿å­˜çš„è¾“å…¥å’Œæ¢¯åº¦è¾“å‡ºè®¡ç®—è¾“å…¥ã€åç§»é‡å’Œæ©ç çš„æ¢¯åº¦ã€‚

2. **dcnv3_core_pytorchå‡½æ•°**ï¼šå®ç°äº†DCNv3çš„æ ¸å¿ƒé€»è¾‘ï¼ŒåŒ…æ‹¬ï¼š
   - è¾“å…¥çš„å¡«å……ã€‚
   - è®¡ç®—å‚è€ƒç‚¹å’Œè†¨èƒ€ç½‘æ ¼ã€‚
   - è®¡ç®—é‡‡æ ·ä½ç½®å¹¶è¿›è¡Œé‡‡æ ·ã€‚
   - è®¡ç®—æœ€ç»ˆè¾“å‡ºã€‚

### æ³¨æ„äº‹é¡¹ï¼š
- ä»£ç ä¸­ä½¿ç”¨äº†PyTorchçš„è‡ªå®šä¹‰å‡½æ•°æœºåˆ¶ï¼Œä»¥ä¾¿äºå®ç°å¤æ‚çš„å‰å‘å’Œåå‘ä¼ æ’­é€»è¾‘ã€‚
- è¯¥å®ç°ä¾èµ–äºDCNv3åº“çš„å‰å‘å’Œåå‘å‡½æ•°ï¼Œç¡®ä¿åœ¨ä½¿ç”¨æ—¶è¯¥åº“å·²æ­£ç¡®å®‰è£…ã€‚

è¯¥ç¨‹åºæ–‡ä»¶å®ç°äº†DCNv3ï¼ˆDeformable Convolutional Networks v3ï¼‰çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸»è¦ç”¨äºæ·±åº¦å­¦ä¹ ä¸­çš„å¯å˜å½¢å·ç§¯æ“ä½œã€‚æ–‡ä»¶ä¸­åŒ…å«äº†å¤šä¸ªå‡½æ•°å’Œç±»ï¼Œå…·ä½“åŠŸèƒ½å¦‚ä¸‹ï¼š

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬PyTorchå’ŒDCNv3æ¨¡å—ã€‚é€šè¿‡`try-except`è¯­å¥ï¼Œç¨‹åºå°è¯•å¯¼å…¥DCNv3åº“å¹¶è·å–å…¶ç‰ˆæœ¬å·ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º`DCNv3Function`çš„ç±»ï¼Œç»§æ‰¿è‡ª`torch.autograd.Function`ï¼Œè¯¥ç±»åŒ…å«äº†å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­çš„å®ç°ã€‚å‰å‘ä¼ æ’­æ–¹æ³•`forward`æ¥å—å¤šä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬è¾“å…¥å¼ é‡ã€åç§»é‡ã€æ©ç ã€å·ç§¯æ ¸çš„é«˜å’Œå®½ã€æ­¥å¹…ã€å¡«å……ã€æ‰©å¼ ã€åˆ†ç»„ç­‰ä¿¡æ¯ã€‚è¯¥æ–¹æ³•é¦–å…ˆå°†è¿™äº›å‚æ•°ä¿å­˜åˆ°ä¸Šä¸‹æ–‡`ctx`ä¸­ï¼Œç„¶åè°ƒç”¨DCNv3çš„å‰å‘å‡½æ•°è¿›è¡Œè®¡ç®—ï¼Œå¹¶ä¿å­˜è¾“å…¥ã€åç§»å’Œæ©ç ä»¥å¤‡åç»­åå‘ä¼ æ’­ä½¿ç”¨ã€‚

åå‘ä¼ æ’­æ–¹æ³•`backward`åˆ™æ ¹æ®ä¿å­˜çš„å¼ é‡å’Œæ¢¯åº¦è¾“å‡ºè®¡ç®—è¾“å…¥ã€åç§»å’Œæ©ç çš„æ¢¯åº¦ã€‚å®ƒåŒæ ·è°ƒç”¨DCNv3çš„åå‘å‡½æ•°æ¥å®Œæˆè¿™äº›è®¡ç®—ã€‚

`symbolic`æ–¹æ³•ç”¨äºåœ¨ONNXæ¨¡å‹ä¸­è¡¨ç¤ºDCNv3æ“ä½œï¼Œè¿”å›ä¸€ä¸ªè¡¨ç¤ºDCNv3æ“ä½œçš„å›¾å½¢ã€‚

æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€äº›è¾…åŠ©å‡½æ•°ã€‚`_get_reference_points`å‡½æ•°æ ¹æ®è¾“å…¥çš„ç©ºé—´å½¢çŠ¶å’Œå·ç§¯å‚æ•°è®¡ç®—å‚è€ƒç‚¹ï¼Œè¿™äº›å‚è€ƒç‚¹ç”¨äºç”Ÿæˆé‡‡æ ·ä½ç½®ã€‚`_generate_dilation_grids`å‡½æ•°ç”Ÿæˆæ‰©å¼ ç½‘æ ¼ï¼Œå¸®åŠ©ç¡®å®šåœ¨å¯å˜å½¢å·ç§¯ä¸­éœ€è¦é‡‡æ ·çš„ä½ç½®ã€‚`remove_center_sampling_locations`å‡½æ•°åˆ™ç”¨äºå»é™¤ä¸­å¿ƒé‡‡æ ·ä½ç½®ï¼Œä»¥ä¾¿åœ¨æŸäº›æƒ…å†µä¸‹è°ƒæ•´é‡‡æ ·ç­–ç•¥ã€‚

æœ€åï¼Œ`dcnv3_core_pytorch`å‡½æ•°å®ç°äº†DCNv3çš„æ ¸å¿ƒé€»è¾‘ã€‚å®ƒé¦–å…ˆå¯¹è¾“å…¥è¿›è¡Œå¡«å……ï¼Œç„¶åè®¡ç®—å‚è€ƒç‚¹å’Œæ‰©å¼ ç½‘æ ¼ã€‚æ¥ç€ï¼Œæ ¹æ®åç§»é‡å’Œæ©ç ç”Ÿæˆé‡‡æ ·ä½ç½®ï¼Œå¹¶ä½¿ç”¨`F.grid_sample`å‡½æ•°è¿›è¡Œé‡‡æ ·ï¼Œæœ€ç»ˆè¿”å›ç»è¿‡æ©ç åŠ æƒçš„è¾“å‡ºç»“æœã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¯¥æ–‡ä»¶å®ç°äº†DCNv3çš„å‰å‘å’Œåå‘ä¼ æ’­æœºåˆ¶ï¼Œå¹¶æä¾›äº†ä¸€äº›è¾…åŠ©å‡½æ•°ä»¥æ”¯æŒå¯å˜å½¢å·ç§¯çš„è®¡ç®—ã€‚è¯¥å®ç°å¯ä»¥åœ¨æ·±åº¦å­¦ä¹ æ¨¡å‹ä¸­æé«˜ç‰¹å¾æå–çš„çµæ´»æ€§å’Œå‡†ç¡®æ€§ã€‚

#### 11.6 train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import random
import numpy as np
import torch.nn as nn
from ultralytics.data import build_dataloader, build_yolo_dataset
from ultralytics.engine.trainer import BaseTrainer
from ultralytics.models import yolo
from ultralytics.nn.tasks import DetectionModel
from ultralytics.utils import LOGGER, RANK
from ultralytics.utils.torch_utils import de_parallel, torch_distributed_zero_first

class DetectionTrainer(BaseTrainer):
    """
    åŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒç±»ï¼Œç»§æ‰¿è‡ªBaseTrainerç±»ã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»ºYOLOæ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œ`train`è¡¨ç¤ºè®­ç»ƒæ¨¡å¼ï¼Œ`val`è¡¨ç¤ºéªŒè¯æ¨¡å¼ã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œä»…ç”¨äº`rect`æ¨¡å¼ã€‚é»˜è®¤ä¸ºNoneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„é€ å¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]
        with torch_distributed_zero_first(rank):  # åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­ï¼Œç¡®ä¿æ•°æ®é›†åªåˆå§‹åŒ–ä¸€æ¬¡
            dataset = self.build_dataset(dataset_path, mode, batch_size)
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        workers = self.args.workers if mode == "train" else self.args.workers * 2
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å½’ä¸€åŒ–å›¾åƒ
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨å¤šå°ºåº¦è®­ç»ƒ
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©å›¾åƒå¤§å°
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å›¾åƒå½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è°ƒæ•´å›¾åƒå¤§å°
            batch["img"] = imgs
        return batch

    def set_model_attributes(self):
        """è®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œåç§°ã€‚"""
        self.model.nc = self.data["nc"]  # å°†ç±»åˆ«æ•°é‡é™„åŠ åˆ°æ¨¡å‹
        self.model.names = self.data["names"]  # å°†ç±»åˆ«åç§°é™„åŠ åˆ°æ¨¡å‹
        self.model.args = self.args  # å°†è¶…å‚æ•°é™„åŠ åˆ°æ¨¡å‹

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å›YOLOæ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)
        if weights:
            model.load(weights)  # åŠ è½½é¢„è®­ç»ƒæƒé‡
        return model

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ³¨é‡Šã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **ç±»å’Œæ–¹æ³•å®šä¹‰**ï¼š`DetectionTrainer`ç±»ç”¨äºå¤„ç†YOLOæ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒ…å«å¤šä¸ªæ–¹æ³•ç”¨äºæ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½ã€å›¾åƒé¢„å¤„ç†ã€æ¨¡å‹å±æ€§è®¾ç½®ç­‰ã€‚
2. **æ•°æ®é›†æ„å»º**ï¼š`build_dataset`æ–¹æ³•ç”¨äºæ ¹æ®ç»™å®šçš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼æ„å»ºYOLOæ•°æ®é›†ã€‚
3. **æ•°æ®åŠ è½½å™¨**ï¼š`get_dataloader`æ–¹æ³•ç”¨äºåˆ›å»ºæ•°æ®åŠ è½½å™¨ï¼Œæ”¯æŒåˆ†å¸ƒå¼è®­ç»ƒå’Œæ‰¹æ¬¡å¤„ç†ã€‚
4. **å›¾åƒé¢„å¤„ç†**ï¼š`preprocess_batch`æ–¹æ³•å¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œå½’ä¸€åŒ–å’Œå°ºå¯¸è°ƒæ•´ï¼Œä»¥é€‚åº”æ¨¡å‹è¾“å…¥è¦æ±‚ã€‚
5. **æ¨¡å‹å±æ€§è®¾ç½®**ï¼š`set_model_attributes`æ–¹æ³•å°†æ•°æ®é›†çš„ç±»åˆ«ä¿¡æ¯é™„åŠ åˆ°æ¨¡å‹ä¸­ï¼Œä»¥ä¾¿æ¨¡å‹èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«å’Œå¤„ç†ä¸åŒçš„ç±»åˆ«ã€‚
6. **æ¨¡å‹è·å–**ï¼š`get_model`æ–¹æ³•ç”¨äºå®ä¾‹åŒ–YOLOæ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
7. **ç»˜åˆ¶è®­ç»ƒæ ·æœ¬**ï¼š`plot_training_samples`æ–¹æ³•ç”¨äºå¯è§†åŒ–è®­ç»ƒæ ·æœ¬åŠå…¶å¯¹åº”çš„æ ‡æ³¨ä¿¡æ¯ï¼Œä¾¿äºè§‚å¯Ÿè®­ç»ƒæ•ˆæœã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„å®ç°ï¼Œç»§æ‰¿è‡ª `BaseTrainer` ç±»ã€‚æ–‡ä»¶ä¸­åŒ…å«äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œä¸»è¦ç”¨äºæ„å»ºæ•°æ®é›†ã€åŠ è½½æ•°æ®ã€é¢„å¤„ç†å›¾åƒã€è®¾ç½®æ¨¡å‹å±æ€§ã€è·å–æ¨¡å‹ã€éªŒè¯æ¨¡å‹ã€è®°å½•æŸå¤±ã€æ˜¾ç¤ºè®­ç»ƒè¿›åº¦ã€ç»˜åˆ¶è®­ç»ƒæ ·æœ¬å’Œç»˜åˆ¶è®­ç»ƒæŒ‡æ ‡ç­‰ã€‚

é¦–å…ˆï¼Œ`DetectionTrainer` ç±»çš„æ„é€ å‡½æ•°é€šè¿‡ä¼ å…¥å‚æ•°æ¥åˆå§‹åŒ–è®­ç»ƒå™¨ï¼ŒåŒ…æ‹¬æ¨¡å‹çš„é…ç½®ã€æ•°æ®é›†è·¯å¾„å’Œè®­ç»ƒçš„è½®æ•°ç­‰ã€‚`build_dataset` æ–¹æ³•ç”¨äºæ„å»º YOLO æ•°æ®é›†ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯æ¨¡å¼ï¼Œå¹¶å¯ä»¥æ ¹æ®ä¸åŒæ¨¡å¼è‡ªå®šä¹‰æ•°æ®å¢å¼ºã€‚å®ƒä¼šæ ¹æ®æ¨¡å‹çš„æ­¥å¹…è®¡ç®—åˆé€‚çš„å›¾åƒå°ºå¯¸ã€‚

`get_dataloader` æ–¹æ³•ç”¨äºæ„å»ºæ•°æ®åŠ è½½å™¨ï¼Œç¡®ä¿åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­åªåˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†ã€‚å®ƒæ ¹æ®æ¨¡å¼é€‰æ‹©æ˜¯å¦æ‰“ä¹±æ•°æ®ï¼Œå¹¶æ ¹æ®è®­ç»ƒæˆ–éªŒè¯æ¨¡å¼è®¾ç½®å·¥ä½œçº¿ç¨‹çš„æ•°é‡ã€‚

åœ¨ `preprocess_batch` æ–¹æ³•ä¸­ï¼Œå¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°åˆé€‚çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚æ”¯æŒå¤šå°ºåº¦è®­ç»ƒï¼Œé€šè¿‡éšæœºé€‰æ‹©å›¾åƒå°ºå¯¸æ¥å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ï¼Œä»¥ä¾¿æ¨¡å‹èƒ½å¤Ÿæ­£ç¡®å¤„ç†ä¸åŒçš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯ä»¥åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚`get_validator` æ–¹æ³•è¿”å›ä¸€ä¸ªç”¨äºéªŒè¯æ¨¡å‹æ€§èƒ½çš„éªŒè¯å™¨ã€‚

`label_loss_items` æ–¹æ³•ç”¨äºè¿”å›å¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒæŸå¤±å­—å…¸ï¼Œé€‚ç”¨äºç›®æ ‡æ£€æµ‹å’Œåˆ†å‰²ä»»åŠ¡ã€‚`progress_string` æ–¹æ³•ç”Ÿæˆä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰è½®æ¬¡ã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå°ºå¯¸ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œæ–¹ä¾¿å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚æœ€åï¼Œ`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•åˆ†åˆ«ç”¨äºç»˜åˆ¶è®­ç»ƒæŒ‡æ ‡å’Œåˆ›å»ºå¸¦æ ‡ç­¾çš„è®­ç»ƒå›¾ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç†è§£æ¨¡å‹çš„è®­ç»ƒæ•ˆæœã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„è®­ç»ƒæ¡†æ¶ï¼Œæ¶µç›–äº†ä»æ•°æ®åŠ è½½åˆ°æ¨¡å‹è®­ç»ƒã€éªŒè¯å’Œç»“æœå¯è§†åŒ–çš„å„ä¸ªæ–¹é¢ï¼Œé€‚åˆç”¨äº YOLO æ¨¡å‹çš„è®­ç»ƒä»»åŠ¡ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥ç¨‹åºçš„æ•´ä½“åŠŸèƒ½æ˜¯å®ç°å’Œè®­ç»ƒYOLOv8ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œæä¾›äº†ä»æ•°æ®åŠ è½½ã€æ¨¡å‹è®­ç»ƒã€éªŒè¯åˆ°ç»“æœå¯è§†åŒ–çš„å®Œæ•´æµç¨‹ã€‚ç¨‹åºæ¶æ„åŒ…æ‹¬å¤šä¸ªæ¨¡å—å’Œæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œä»¥æ”¯æŒç›®æ ‡æ£€æµ‹ä»»åŠ¡çš„ä¸åŒæ–¹é¢ã€‚ä¸»è¦åŠŸèƒ½æ¨¡å—åŒ…æ‹¬ï¼š

1. **æ¨¡å‹é¢„æµ‹**ï¼šå®ç°ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„é¢„æµ‹åŠŸèƒ½ã€‚
2. **ç”¨æˆ·ç•Œé¢**ï¼šæä¾›ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œç”¨äºè¿è¡Œå’Œç®¡ç†æ¨¡å‹ã€‚
3. **å¥èº«åŠ¨ä½œè®¡æ•°**ï¼šé€šè¿‡å§¿æ€ä¼°è®¡å®ç°å¥èº«åŠ¨ä½œçš„å®æ—¶è®¡æ•°ã€‚
4. **ClearMLé›†æˆ**ï¼šç”¨äºå®éªŒç®¡ç†å’Œå¯è§†åŒ–ï¼Œè®°å½•è®­ç»ƒè¿‡ç¨‹ä¸­çš„å„ç§ä¿¡æ¯ã€‚
5. **å¯å˜å½¢å·ç§¯**ï¼šå®ç°DCNv3å¯å˜å½¢å·ç§¯çš„å‰å‘å’Œåå‘ä¼ æ’­ã€‚
6. **è®­ç»ƒæ¡†æ¶**ï¼šæä¾›è®­ç»ƒæ¨¡å‹çš„ä¸»è¦é€»è¾‘ï¼ŒåŒ…æ‹¬æ•°æ®å¤„ç†ã€æ¨¡å‹è®¾ç½®å’Œè®­ç»ƒè¿‡ç¨‹çš„ç®¡ç†ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                     | åŠŸèƒ½æè¿°                                                                                       |
|----------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| `code\ultralytics\models\yolo\detect\predict.py`                                           | å®ç°YOLOæ¨¡å‹çš„é¢„æµ‹åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç»“æœåå¤„ç†å’Œå¯è§†åŒ–ã€‚                                             |
| `ui.py`                                                                                     | æä¾›å‘½ä»¤è¡Œç•Œé¢ï¼Œå…è®¸ç”¨æˆ·è¿è¡ŒæŒ‡å®šçš„Streamlitè„šæœ¬ã€‚                                             |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\solutions\ai_gym.py` | å®ç°åŸºäºå§¿æ€ä¼°è®¡çš„å¥èº«åŠ¨ä½œè®¡æ•°ï¼Œå®æ—¶åˆ†æè§†é¢‘æµä¸­çš„å¥èº«åŠ¨ä½œã€‚                                 |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\callbacks\clearml.py` | é›†æˆClearMLï¼Œç”¨äºè®°å½•è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ—¥å¿—å’Œå¯è§†åŒ–ç»“æœã€‚                                         |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\extra_modules\ops_dcnv3\functions\dcnv3_func.py` | å®ç°DCNv3å¯å˜å½¢å·ç§¯çš„å‰å‘å’Œåå‘ä¼ æ’­åŠŸèƒ½ï¼Œæ”¯æŒæ·±åº¦å­¦ä¹ æ¨¡å‹ä¸­çš„å¯å˜å½¢å·ç§¯æ“ä½œã€‚                |
| `train.py`                                                                                  | æä¾›YOLOæ¨¡å‹çš„è®­ç»ƒæ¡†æ¶ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€æ¨¡å‹è®¾ç½®ã€è®­ç»ƒè¿‡ç¨‹ç®¡ç†å’Œç»“æœå¯è§†åŒ–ã€‚                 |
| `code\ultralytics\utils\callbacks\wb.py`                                                   | ï¼ˆå‡è®¾åŠŸèƒ½ï¼‰å¯èƒ½ç”¨äºé›†æˆWeights & Biasesè¿›è¡Œå®éªŒè·Ÿè¸ªå’Œå¯è§†åŒ–ã€‚                             |
| `code\ultralytics\models\yolo\classify\__init__.py`                                       | ï¼ˆå‡è®¾åŠŸèƒ½ï¼‰åˆå§‹åŒ–YOLOåˆ†ç±»æ¨¡å‹çš„ç›¸å…³æ¨¡å—ã€‚                                                  |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\trackers\bot_sort.py` | å®ç°ç›®æ ‡è·Ÿè¸ªç®—æ³•ï¼ˆå¦‚BotSortï¼‰ï¼Œç”¨äºåœ¨è§†é¢‘æµä¸­è·Ÿè¸ªæ£€æµ‹åˆ°çš„ç›®æ ‡ã€‚                               |
| `code\ultralytics\nn\__init__.py`                                                          | åˆå§‹åŒ–ç¥ç»ç½‘ç»œæ¨¡å—ï¼Œå¯èƒ½åŒ…å«æ¨¡å‹çš„åŸºç¡€ç»“æ„å’Œç›¸å…³åŠŸèƒ½ã€‚                                      |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\trackers\basetrack.py` | å®ç°åŸºç¡€ç›®æ ‡è·Ÿè¸ªç®—æ³•ï¼Œç”¨äºåœ¨æ£€æµ‹ä»»åŠ¡ä¸­è·Ÿè¸ªç›®æ ‡ã€‚                                            |
| `code\ultralytics\hub\auth.py`                                                             | å¤„ç†ä¸æ¨¡å‹åº“çš„èº«ä»½éªŒè¯ç›¸å…³çš„åŠŸèƒ½ï¼Œå¯èƒ½ç”¨äºä¸‹è½½å’Œç®¡ç†æ¨¡å‹ã€‚                                   |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\sam\modules\decoders.py` | å®ç°SAMï¼ˆSegment Anything Modelï¼‰æ¨¡å—çš„è§£ç å™¨åŠŸèƒ½ï¼Œæ”¯æŒå›¾åƒåˆ†å‰²ä»»åŠ¡ã€‚                       |

è¿™ä¸ªè¡¨æ ¼æ€»ç»“äº†å„ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œå¸®åŠ©ç†è§£æ•´ä¸ªç¨‹åºçš„æ¶æ„å’Œå„ä¸ªæ¨¡å—ä¹‹é—´çš„å…³ç³»ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/Zpubkppv](https://mbd.pub/o/bread/Zpubkppv)